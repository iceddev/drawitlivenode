<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6" style="height: 100%; width: 100%"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7" style="height: 100%; width: 100%"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8" style="height: 100%; width: 100%"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9" style="height: 100%; width: 100%"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"  style="height: 100%; width: 100%"> <!--<![endif]-->
<head>
  <meta charset="utf-8">

  <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
       Remove this if you use the .htaccess -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title></title>
  <meta name="description" content="">
  <meta name="author" content="monteslu">

  <!--  Mobile viewport optimized: j.mp/bplateviewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">


  <!-- CSS : implied media="all" -->
  <link rel="stylesheet" href="/css/style.css?v=3">
  <link rel="stylesheet" href="js/dijit/themes/claro/claro.css">
  <link rel="stylesheet" href="js/dojox/widget/ColorPicker/ColorPicker.css">
  <link rel="stylesheet" href="css/main.css">

  <!-- Uncomment if you are specifically targeting less enabled mobile browsers
  <link rel="stylesheet" media="handheld" href="css/handheld.css?v=2">  -->

  <!-- All JavaScript at the bottom, except for Modernizr which enables HTML5 elements & feature detects -->
  <script src="/js/libs/modernizr2.js"></script>
  <script type="text/javascript" src="/socket.io/socket.io.js"></script>
  <script src="js/dojoConfigBuild.js"></script>
  <script TYPE="text/javascript" src="/js/dist/dojo.js.uncompressed.js"></script>
  <script>
    if(!window.define || !define.amd){
      console.log('Javascript not built into single file, using dojo for loader in dev mode');
      var hd = document.getElementsByTagName("head")[0],
      el = document.createElement("script");
      el.async = true; // set it to async
      el.src = '/js/dojo/dojo.js';
      hd.insertBefore(el, hd.firstChild); // insert it so it will load
    }
  </script>
</head>
<body class="claro">

  <div id="setUserDiv" style="display: none;" class="login">
    <h1 id="header">Collaborative Whiteboard</h1>
    <div>
      Choose any user name (no spaces or punctuation):
      <input id="userNameText">
    </div>
    <div>
      Choose a room name:
      <input id="wbIdText">
    </div>
    <button id="userNameBtn">Start Drawing!</button>
    <br>
    <span id="subitUserNameMessage"></span>
  </div>

  <div id="applicationArea" class="application" style="display: none;">

    <div id="chatArea" class="chat">
      <div id="output" style="overflow: auto;"></div>
      <div>
        <table border="0" cellspacing="5">
          <tr>
            <td>
              <textarea data-dojo-type="dijit/form/Textarea" id="chatText"></textarea>
              <span id="chatBtn" data-dojo-type="dijit/form/Button">Say</span>
              <span id="chatWaitMessage"></span>
            </td>
            <td>
              Users:
              <br>
              <div style="overflow: auto; border: 1px solid #888888;" id="userListDiv"></div>
            </td>
          </tr>
        </table>
      </div>
    </div>

    <div class="whiteboard">
      <div>
        <div id="whiteboardContainer" style="border: 2px blue solid; background-color: white;"></div>
        <div id="whiteboardOverlayContainer"  style="border: 2px black solid; z-index : 1;"></div>
      </div>

      <form onsubmit="return false" data-dojo-type="dijit/form/Form" id="toolForm">

        <div class="toolbar">
          <button id="penToolBtn"></button>
          <button id="lineToolBtn"></button>
          <button id="rectToolBtn"></button>
          <button id="filledRectToolBtn"></button>
          <button id="ellipseToolBtn"></button>
          <button id="filledEllipseToolBtn"></button>
          <button id="textToolBtn"></button>
          <button id="moveToolBtn"></button>
          <button id="moveUpToolBtn"></button>
          <button id="moveDownToolBtn"></button>
          <button id="deleteToolBtn"></button>
          <button id="smileBtn"></button>
        </div>

        <div id="lineColorDisplay" style="background-color: FFFFFF; border-color: black; border-width: 1px;" data-dojo-type="dijit/form/DropDownButton">
          <span id="colorText">color <span id="lineSwatch" style="height: 10px; width: 10px; border: 1px solid black; background-color: black;">&nbsp;&nbsp;</span></span>
          <div data-dojo-type="dijit/TooltipDialog" id="lineColorPaletteDialog" title="Color Palette">
            <div data-dojo-type="dojox/widget/ColorPicker" id="lineColorPaletteWidget"></div>
            <button data-dojo-type="dijit/form/Button" id="lineColorPaletteOkBtn">OK</button>
            <button data-dojo-type="dijit/form/Button" id="lineColorPaletteCancelBtn">Cancel</button>
          </div>
        </div>
        <div id="fillColorDisplay" style="background-color: FFFFFF; border-color: black; border-width: 1px;" data-dojo-type="dijit/form/DropDownButton">
          <span id="colorText">fill <span id="fillSwatch" style="height: 10px; width: 10px; border: 1px solid black; background-color: white;">&nbsp;&nbsp;</span></span>
          <div data-dojo-type="dijit/TooltipDialog" id="fillColorPaletteDialog" title="Color Palette">
            <div data-dojo-type="dojox/widget/ColorPicker" id="fillColorPaletteWidget"></div>
            <button data-dojo-type="dijit/form/Button" id="fillColorPaletteOkBtn">OK</button>
            <button data-dojo-type="dijit/form/Button" id="fillColorPaletteCancelBtn">Cancel</button>
          </div>
        </div>

        <select name="select" data-dojo-type="dijit/form/Select" id="lineStrokeSelect">
          <option value="1">
            Line Thicknes:  1
          </option>
          <option value="2">
            Line Thicknes:  2
          </option>
          <option value="3" selected="selected">
            Line Thicknes:  3
          </option>
          <option value="4">
            Line Thicknes:  4
          </option>
          <option value="5">
            Line Thicknes:  5
          </option>
          <option value="6">
            Line Thicknes:  6
          </option>
          <option value="7">
            Line Thicknes:  7
          </option>
          <option value="8">
            Line Thicknes:  8
          </option>
          <option value="9">
            Line Thicknes:  9
          </option>
          <option value="10">
            Line Thicknes: 10
          </option>
          <option value="15">
            Line Thicknes: 15
          </option>
          <option value="20">
            Line Thicknes: 20
          </option>
          <option value="30">
            Line Thicknes: 30
          </option>
          <option value="50">
            Line Thicknes: 50
          </option>
          <option value="75">
            Line Thicknes: 75
          </option>
          <option value="100">
            Line Thicknes:100
          </option>
        </select>

        <select name="select" data-dojo-type="dijit/form/Select" id="fontSizeSelect">
          <option value="5">
            Font:  5pt
          </option>
          <option value="6">
            Font:  6pt
          </option>
          <option value="7">
            Font:  7pt
          </option>
          <option value="8">
            Font:  8pt
          </option>
          <option value="9">
            Font:  9pt
          </option>
          <option value="10">
            Font: 10pt
          </option>
          <option value="12" selected="selected">
            Font: 12pt
          </option>
          <option value="14">
            Font: 14pt
          </option>
          <option value="16">
            Font: 16pt
          </option>
          <option value="20">
            Font: 20pt
          </option>
          <option value="24">
            Font: 24pt
          </option>
          <option value="32">
            Font: 32pt
          </option>
          <option value="48">
            Font: 48pt
          </option>
          <option value="64">
            Font: 64pt
          </option>
        </select>

        <button data-dojo-type="dijit/form/Button" id="exportImgBtn"><img src="/images/export-icon.png"></button>
        <div data-dojo-type="dijit/Tooltip" connectId="exportImgBtn" position="below" showDelay="0">Export the drawing surface.</div>

        <button data-dojo-type="dijit/form/Button" id="showMovieBtn"><img src="/images/movie-icon.png"></button>
        <div data-dojo-type="dijit/Tooltip" connectId="showMovieBtn" position="below" showDelay="0">View all steps that made this drawing.</div>

        <div id="clearDrawingDisplay" data-dojo-type="dijit/form/DropDownButton">
          <span id="colorText">clear</span>
          <div data-dojo-type="dijit/TooltipDialog" id="clearDrawingDialog" title="Clear Drawing">
            Clear Drawing?
            <br>
            <button id="clearDrawingYesBtn" data-dojo-type="dijit/form/Button">Yes</button>
            <button id="clearDrawingNoBtn" data-dojo-type="dijit/form/Button">No</button>
          </div>
        </div>
      </form>

      <section id="app" hidden>
        <div class="container"><span id="live">LIVE</span><video id="monitor" autoplay style="height: 40px; width: 60px;"></video></div>
      </section>

      <div id="splash">
          <p id="errorMessage"><br></p>
        </div>
        <div id="gallery"></div>
      </article>
      <canvas id="photo" style="height: 200px; width: 300px; display: none;" ></canvas>
    </div>
  </div>

  <div id="imgDialog"></div>

  <div id="textDialog"></div>

  <div id="movieDialog"></div>

</body>
</html>